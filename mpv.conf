
# ============================================================
# Professional Broadcast Configuration for mpv
# Optimized for QC, OB, editing, and frame-accurate review
# ============================================================

# ==================== VIDEO SETTINGS ====================
vo=gpu
profile=gpu-hq
gpu-api=auto
hwdec=auto-safe

video-sync=display-resample
interpolation=no

scale=ewa_lanczossharp
cscale=ewa_lanczossharp
dscale=mitchell

target-prim=auto
target-trc=auto
icc-profile-auto=yes

# ==================== AUDIO SETTINGS ====================
audio-channels=auto
ad-lavc-downmix=yes
audio-normalize-downmix=yes
audio-pitch-correction=yes

audio-buffer=1.0
audio-stream-silence=yes

volume=100
volume-max=150

# ==================== OSD SETTINGS ====================
osc=no
osd-bar=yes
osd-on-seek=bar
osd-duration=1500

osd-font="Consolas"
osd-font-size=32
osd-color="#FFFFFF"
osd-border-color="#000000"
osd-border-size=2
osd-shadow-offset=2
osd-align-x=left
osd-align-y=top
osd-margin-x=24
osd-margin-y=24

# ==================== PLAYBACK BEHAVIOR ====================
keep-open=yes
keep-open-pause=no
loop-file=no

hr-seek=yes
hr-seek-framedrop=no

cache=yes
cache-secs=10
demuxer-max-bytes=500M
demuxer-readahead-secs=20

# ==================== SCREENSHOT SETTINGS ====================
screenshot-format=png
screenshot-png-compression=5
screenshot-template="%F_frame_%p"
screenshot-directory="~/mpv_screenshots"
screenshot-high-bit-depth=yes

# ==================== SUBTITLE SETTINGS ====================
sub-auto=fuzzy
sub-font="Arial"
sub-font-size=48
sub-color="#FFFFFF"
sub-border-color="#000000"
sub-border-size=2.5
sub-shadow-offset=1

# ==================== WINDOW & DISPLAY ====================
force-window=immediate
autofit=85%
ontop=no
border=yes

fs=no
fs-screen=0

# ==================== PERFORMANCE ====================
vd-lavc-threads=0

gpu-shader-cache-dir="~/.cache/mpv/shaders"
icc-cache-dir="~/.cache/mpv/icc"

# ==================== FILE HANDLING ====================
ordered-chapters=yes
merge-files=no

save-position-on-quit=no
watch-later-directory="~/.config/mpv/watch_later"

# ==================== PROFILES ====================

[broadcast-pal]
profile-desc="Broadcast PAL (50fps)"

[broadcast-ntsc]
profile-desc="Broadcast NTSC (59.94fps)"

[hdr]
profile-desc="HDR content"
target-trc=pq
target-prim=bt.2020
tone-mapping=hable

[qc-accurate]
profile-desc="QC Mode: Frame-accurate, no interpolation"
video-sync=audio
interpolation=no
framedrop=no
hr-seek-framedrop=no

[qc-realtime]
profile-desc="Real-time monitoring mode"
video-sync=display-resample
interpolation=yes
framedrop=vo

[slowmo]
profile-desc="Slow-motion review"
speed=0.25
audio-pitch-correction=no
